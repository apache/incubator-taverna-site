<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Thu Jun 30 15:53:47 BST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ReferenceService (Apache Taverna Engine and Platform 3.1.0-incubating API)</title>
<meta name="date" content="2016-06-30">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReferenceService (Apache Taverna Engine and Platform 3.1.0-incubating API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReferenceService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/taverna/reference/ReferencedDataNature.html" title="enum in org.apache.taverna.reference"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/taverna/reference/ReferenceServiceCacheProvider.html" title="interface in org.apache.taverna.reference"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/taverna/reference/ReferenceService.html" target="_top">Frames</a></li>
<li><a href="ReferenceService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.taverna.reference</div>
<h2 title="Interface ReferenceService" class="title">Interface ReferenceService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/apache/taverna/reference/impl/AbstractReferenceServiceImpl.html" title="class in org.apache.taverna.reference.impl">AbstractReferenceServiceImpl</a>, <a href="../../../../org/apache/taverna/reference/impl/ReferenceServiceImpl.html" title="class in org.apache.taverna.reference.impl">ReferenceServiceImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">ReferenceService</span></pre>
<div class="block">Top level access point to the reference manager for client code which is
 aware of references and error documents. Provides methods to store and
 retrieve instances of ReferenceSet, IdentifiedList&lt;T2Reference&gt; and
 ErrorDocument. Acts as an integration layer for the three sub-component
 service, providing in addition collection traversal and retrieval of lists of
 identified entities (ReferenceSet, IdentifiedList&lt;Identified&gt; and
 ErrorDocument) from a T2Reference identifying a list.
 <p>
 Also provides registration and retrieval logic for POJOs where supported by
 appropriate plug-in instances, these methods can be used by code which is not
 'reference aware' to store and retrieve value types transparently.
 <p>
 Resolution of collections can happen at three different levels:
 <ol>
 <li>The embedded <a href="../../../../org/apache/taverna/reference/ListService.html" title="interface in org.apache.taverna.reference"><code>ListService</code></a> resolves the collection ID to a list of
 child IDs, and doesn't traverse these children if they are themselves lists.
 Use the <a href="../../../../org/apache/taverna/reference/ReferenceService.html#getListService--"><code>getListService()</code></a>.<a href="../../../../org/apache/taverna/reference/ListService.html#getList-org.apache.taverna.reference.T2Reference-"><code>getList()</code></a> to call this method directly on the list service if you need this
 functionality, returning a list of <a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference"><code>T2Reference</code></a></li>
 <li>The <a href="../../../../org/apache/taverna/reference/ReferenceService.html#resolveIdentifier-org.apache.taverna.reference.T2Reference-java.util.Set-org.apache.taverna.reference.ReferenceContext-"><code>resolveIdentifier</code></a> method in this service instead resolves to a fully
 realized collection of the entities which those IDs reference, and does
 recursively apply this to child lists, resulting in a nested collection
 structure where the leaf nodes are ReferenceSet and ErrorDocument instances
 and non-leaf are IdentifiedList of Identified (the super-interface for
 IdentifiedList, ReferenceSet and ErrorDocument). Use this method if you want
 to access the ExternalReferenceSPI and ErrorDocument entities directly
 because your code can act on a particular reference type - in general in
 these cases you would also be using the augmentation system to ensure that
 the required reference type was actually present in the collection structure.
 </li>
 <li>The third level of resolution is to render the identifier through
 <a href="../../../../org/apache/taverna/reference/ReferenceService.html#renderIdentifier-org.apache.taverna.reference.T2Reference-java.lang.Class-org.apache.taverna.reference.ReferenceContext-"><code>renderIdentifier</code></a> to a nested structure as in
 <a href="../../../../org/apache/taverna/reference/ReferenceService.html#resolveIdentifier-org.apache.taverna.reference.T2Reference-java.util.Set-org.apache.taverna.reference.ReferenceContext-"><code>resolveIdentifier</code></a> but where the structure consists of POJOs of the specified
 type and lists or either list or the leaf type. This is used when your code
 is reference agnostic and just requires the values in an easy to consume
 fashion. Note that because this involves pulling the entire structure into
 memory it may not be suitable for large data, use with caution. This method
 will, unlike <a href="../../../../org/apache/taverna/reference/ReferenceService.html#resolveIdentifier-org.apache.taverna.reference.T2Reference-java.util.Set-org.apache.taverna.reference.ReferenceContext-"><code>resolveIdentifier</code></a>, fail if the reference contains or is an error.</li>
 </ol></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Tom Oinn</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#delete-java.util.List-">delete</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&gt;&nbsp;references)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#delete-org.apache.taverna.reference.T2Reference-">delete</a></span>(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;reference)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#deleteReferencesForWorkflowRun-java.lang.String-">deleteReferencesForWorkflowRun</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;workflowRunId)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/taverna/reference/ErrorDocumentService.html" title="interface in org.apache.taverna.reference">ErrorDocumentService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#getErrorDocumentService--">getErrorDocumentService</a></span>()</code>
<div class="block">Returns the <a href="../../../../org/apache/taverna/reference/ErrorDocumentService.html" title="interface in org.apache.taverna.reference"><code>ErrorDocumentService</code></a> this ReferenceService uses, use
 this when you need functionality from that service explicitly.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/taverna/reference/ListService.html" title="interface in org.apache.taverna.reference">ListService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#getListService--">getListService</a></span>()</code>
<div class="block">Returns the <a href="../../../../org/apache/taverna/reference/ListService.html" title="interface in org.apache.taverna.reference"><code>ListService</code></a> this ReferenceService uses, use this when
 you need functionality from that service explicitly.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/taverna/reference/ReferenceSetService.html" title="interface in org.apache.taverna.reference">ReferenceSetService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#getReferenceSetService--">getReferenceSetService</a></span>()</code>
<div class="block">Returns the <a href="../../../../org/apache/taverna/reference/ReferenceSetService.html" title="interface in org.apache.taverna.reference"><code>ReferenceSetService</code></a> this ReferenceService uses, use
 this when you need functionality from that service explicitly.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#referenceFromString-java.lang.String-">referenceFromString</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;reference)</code>
<div class="block">Given a string representation of a T2Reference create a new T2Reference
 with the correct depth etc.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#register-java.lang.Object-int-boolean-org.apache.taverna.reference.ReferenceContext-">register</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o,
        int&nbsp;targetDepth,
        boolean&nbsp;useConverterSPI,
        <a href="../../../../org/apache/taverna/reference/ReferenceContext.html" title="interface in org.apache.taverna.reference">ReferenceContext</a>&nbsp;context)</code>
<div class="block">The top level registration method is used to register either as yet
 unregistered ErrorDocuments and ReferenceSets (if these are passed in and
 already have an identifier this call does nothing) and arbitrarily nested
 Lists of the same.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#renderIdentifier-org.apache.taverna.reference.T2Reference-java.lang.Class-org.apache.taverna.reference.ReferenceContext-">renderIdentifier</a></span>(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;id,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;leafClass,
                <a href="../../../../org/apache/taverna/reference/ReferenceContext.html" title="interface in org.apache.taverna.reference">ReferenceContext</a>&nbsp;context)</code>
<div class="block">Resolve the given identifier, building a POJO structure where the
 non-list items are of the desired class.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/taverna/reference/Identified.html" title="interface in org.apache.taverna.reference">Identified</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#resolveIdentifier-org.apache.taverna.reference.T2Reference-java.util.Set-org.apache.taverna.reference.ReferenceContext-">resolveIdentifier</a></span>(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;id,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;<a href="../../../../org/apache/taverna/reference/ExternalReferenceSPI.html" title="interface in org.apache.taverna.reference">ExternalReferenceSPI</a>&gt;&gt;&nbsp;ensureTypes,
                 <a href="../../../../org/apache/taverna/reference/ReferenceContext.html" title="interface in org.apache.taverna.reference">ReferenceContext</a>&nbsp;context)</code>
<div class="block">Perform recursive identifier resolution, building a collection structure
 of Identified objects, any collection elements being IdentifiedLists of
 Identified subclasses.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#resolveIdentifierAsynch-org.apache.taverna.reference.T2Reference-java.util.Set-org.apache.taverna.reference.ReferenceContext-org.apache.taverna.reference.ReferenceServiceResolutionCallback-">resolveIdentifierAsynch</a></span>(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;id,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;<a href="../../../../org/apache/taverna/reference/ExternalReferenceSPI.html" title="interface in org.apache.taverna.reference">ExternalReferenceSPI</a>&gt;&gt;&nbsp;ensureTypes,
                       <a href="../../../../org/apache/taverna/reference/ReferenceContext.html" title="interface in org.apache.taverna.reference">ReferenceContext</a>&nbsp;context,
                       <a href="../../../../org/apache/taverna/reference/ReferenceServiceResolutionCallback.html" title="interface in org.apache.taverna.reference">ReferenceServiceResolutionCallback</a>&nbsp;callback)</code>
<div class="block">As resolveIdentifier but using a callback object and returning
 immediately</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../org/apache/taverna/reference/ContextualizedT2Reference.html" title="interface in org.apache.taverna.reference">ContextualizedT2Reference</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/taverna/reference/ReferenceService.html#traverseFrom-org.apache.taverna.reference.T2Reference-int-">traverseFrom</a></span>(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;source,
            int&nbsp;desiredDepth)</code>
<div class="block">Initiates a traversal of the specified t2reference, traversing to
 whatever level of depth is required such that all identifiers returned
 within the iterator have the specified depth.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="resolveIdentifier-org.apache.taverna.reference.T2Reference-java.util.Set-org.apache.taverna.reference.ReferenceContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveIdentifier</h4>
<pre>@Transactional(propagation=REQUIRED,
               readOnly=false)
<a href="../../../../org/apache/taverna/reference/Identified.html" title="interface in org.apache.taverna.reference">Identified</a>&nbsp;resolveIdentifier(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;id,
                                                                                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;<a href="../../../../org/apache/taverna/reference/ExternalReferenceSPI.html" title="interface in org.apache.taverna.reference">ExternalReferenceSPI</a>&gt;&gt;&nbsp;ensureTypes,
                                                                                                 <a href="../../../../org/apache/taverna/reference/ReferenceContext.html" title="interface in org.apache.taverna.reference">ReferenceContext</a>&nbsp;context)
                                                                                          throws <a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></pre>
<div class="block">Perform recursive identifier resolution, building a collection structure
 of Identified objects, any collection elements being IdentifiedLists of
 Identified subclasses. If the id has depth 0 this will just return the
 Identified to which that id refers.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the T2Reference to resolve</dd>
<dd><code>ensureTypes</code> - a set of ExternalReferenceSPI classes, this is used to augment
            any resolved ReferenceSet instances to ensure that each one
            has at least one of the specified types. If augmentation is
            not required this can be set to null.</dd>
<dd><code>context</code> - the ReferenceContext to use to resolve this and any
            recursively resolved identifiers <br/>
            If null the implementation should insert a new empty context
            and proceed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>fully resolved Identified subclass - this is either a (recursive)
         IdentifiedList of Identified, a ReferenceSet or an ErrorDocument</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></code> - if any problems occur during resolution</dd>
</dl>
</li>
</ul>
<a name="resolveIdentifierAsynch-org.apache.taverna.reference.T2Reference-java.util.Set-org.apache.taverna.reference.ReferenceContext-org.apache.taverna.reference.ReferenceServiceResolutionCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveIdentifierAsynch</h4>
<pre>@Transactional(propagation=REQUIRED,
               readOnly=false)
void&nbsp;resolveIdentifierAsynch(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;id,
                                                                                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;<a href="../../../../org/apache/taverna/reference/ExternalReferenceSPI.html" title="interface in org.apache.taverna.reference">ExternalReferenceSPI</a>&gt;&gt;&nbsp;ensureTypes,
                                                                                                 <a href="../../../../org/apache/taverna/reference/ReferenceContext.html" title="interface in org.apache.taverna.reference">ReferenceContext</a>&nbsp;context,
                                                                                                 <a href="../../../../org/apache/taverna/reference/ReferenceServiceResolutionCallback.html" title="interface in org.apache.taverna.reference">ReferenceServiceResolutionCallback</a>&nbsp;callback)
                                                                                          throws <a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></pre>
<div class="block">As resolveIdentifier but using a callback object and returning
 immediately</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></code> - if anything goes wrong with the setup of the resolution job.
             Any exceptions during the resolution process itself are
             communicated through the callback object.</dd>
</dl>
</li>
</ul>
<a name="renderIdentifier-org.apache.taverna.reference.T2Reference-java.lang.Class-org.apache.taverna.reference.ReferenceContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renderIdentifier</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;renderIdentifier(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;id,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;leafClass,
                        <a href="../../../../org/apache/taverna/reference/ReferenceContext.html" title="interface in org.apache.taverna.reference">ReferenceContext</a>&nbsp;context)
                 throws <a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></pre>
<div class="block">Resolve the given identifier, building a POJO structure where the
 non-list items are of the desired class. This makes of any external
 references that can directly expose the appropriate object type, then, if
 none are present in a given reference set, it attempts to locate a POJO
 builder and uses the cheapest available reference to get an InputStream
 and build the target object. If no appropriate builder or embedded value
 can be found the process throws ReferenceServiceException, it also does
 this if any error occurs during retrieval of a (potentially nested)
 identifier.
 <p>
 This method will return a collection structure mirroring that of the
 specified T2Reference, client code should use T2Reference.getDepth() to
 determine the depth of this structure; a reference with depth of 0 means
 that the object returned is of the specified class, one of depth 1 is a
 list of this class and so on.
 <p>
 If the T2Reference contains or is an error this method will not retrieve
 it, and instead throws ReferenceServiceException</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the T2Reference to render to a POJO</dd>
<dd><code>leafClass</code> - the java class for leaves in the resulting POJO structure</dd>
<dd><code>context</code> - a reference context, potentially used if required by the
            openStream methods of ExternalReferenceSPI implementations
            used as sources for the POJO construction <br/>
            If null the implementation should insert a new empty context
            and proceed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a java structure as defined above</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></code> - if anything fails during this process</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/taverna/reference/StreamToValueConverterSPI.html" title="interface in org.apache.taverna.reference"><code>StreamToValueConverterSPI</code></a>, 
<a href="../../../../org/apache/taverna/reference/ValueCarryingExternalReference.html" title="interface in org.apache.taverna.reference"><code>ValueCarryingExternalReference</code></a></dd>
</dl>
</li>
</ul>
<a name="register-java.lang.Object-int-boolean-org.apache.taverna.reference.ReferenceContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>@Transactional(propagation=REQUIRED,
               readOnly=false)
<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;register(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o,
                                                                                         int&nbsp;targetDepth,
                                                                                         boolean&nbsp;useConverterSPI,
                                                                                         <a href="../../../../org/apache/taverna/reference/ReferenceContext.html" title="interface in org.apache.taverna.reference">ReferenceContext</a>&nbsp;context)
                                                                                  throws <a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></pre>
<div class="block">The top level registration method is used to register either as yet
 unregistered ErrorDocuments and ReferenceSets (if these are passed in and
 already have an identifier this call does nothing) and arbitrarily nested
 Lists of the same. In addition any ExternalReferenceSPI instances found
 will be wrapped in a single item ReferenceSet and registered, and any
 Throwables will be wrapped in an ErrorDocument and registered. Lists will
 be converted to IdentifiedList&lt;T2Reference&gt; and registered if all
 children can be (or were already) appropriately named.
 <p>
 This method is only valid on parameters of the following type :
 <ol>
 <li><a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference"><code>T2Reference</code></a> - returned immediately as itself, this is needed
 because it means we can register lists of existing T2Reference</li>
 <li><a href="../../../../org/apache/taverna/reference/ReferenceSet.html" title="interface in org.apache.taverna.reference"><code>ReferenceSet</code></a> - registered if not already registered,
 otherwise returns existing T2Reference</li>
 <li><a href="../../../../org/apache/taverna/reference/ErrorDocument.html" title="interface in org.apache.taverna.reference"><code>ErrorDocument</code></a> - same behaviour as ReferenceSet</li>
 <li><a href="../../../../org/apache/taverna/reference/ExternalReferenceSPI.html" title="interface in org.apache.taverna.reference"><code>ExternalReferenceSPI</code></a> - wrapped in ReferenceSet, registered
 and ID returned</li>
 <li>Throwable - wrapped in <a href="../../../../org/apache/taverna/reference/ErrorDocument.html" title="interface in org.apache.taverna.reference"><code>ErrorDocument</code></a> with no message,
 registered and ID returned</li>
 <li>List - all children are first registered, if this succeeds the list
 is itself registered as an <a href="../../../../org/apache/taverna/reference/IdentifiedList.html" title="interface in org.apache.taverna.reference"><code>IdentifiedList</code></a> of <a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference"><code>T2Reference</code></a>
 and its reference returned.</li>
 </ol>
 The exception to this is if the useConvertorSPI parameter is set to true
 - in this case any objects which do not match the above allowed list will
 be run through any available ValueToReferenceConvertorSPI instances in
 turn until one succeeds or all fail, which may result in the creation of
 ExternalReferenceSPI instances. As these can be registered such objects
 will not cause an exception to be thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>o</code> - the object to register with the reference system, must comply
            with and will be interpreted as shown in the type list above.</dd>
<dd><code>targetDepth</code> - the depth of the top level object supplied. This is needed
            when registering empty collections and error documents,
            whether as top level types or as members of a collection
            within the top level type. If registering a collection this is
            the collection depth, so a List of ReferenceSchemeSPI would be
            depth 1. Failing to specify this correctly will result in
            serious problems downstream so be careful! We can't catch all
            potential problems in this method (although some errors will
            be trapped).</dd>
<dd><code>useConverterSPI</code> - whether to attempt to use the ValueToReferenceConvertorSPI
            registry (if defined and available) to map arbitrary objects
            to ExternalReferenceSPI instances on the fly. The registry of
            converters is generally injected into the implementation of
            this service.</dd>
<dd><code>context</code> - ReferenceContext to use if required by component services,
            this is most likely to be used by the object to reference
            converters if engaged. <br/>
            If null the implementation should insert a new empty context
            and proceed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a T2Reference to the registered object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></code> - if the object type (or, for collections, the recursive type
             of its contents) is not in the allowed list or if a problem
             occurs during registration. Also thrown if attempting to use
             the converter SPI without an attached registry.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/taverna/reference/ValueToReferenceConverterSPI.html" title="interface in org.apache.taverna.reference"><code>ValueToReferenceConverterSPI</code></a></dd>
</dl>
</li>
</ul>
<a name="referenceFromString-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>referenceFromString</h4>
<pre><a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;referenceFromString(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;reference)</pre>
<div class="block">Given a string representation of a T2Reference create a new T2Reference
 with the correct depth etc.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reference</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new T2Reference parsed from the original</dd>
</dl>
</li>
</ul>
<a name="delete-org.apache.taverna.reference.T2Reference-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>@Transactional(propagation=SUPPORTS,
               readOnly=false)
boolean&nbsp;delete(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;reference)
                                                                            throws <a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></code></dd>
</dl>
</li>
</ul>
<a name="delete-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>@Transactional(propagation=SUPPORTS,
               readOnly=false)
boolean&nbsp;delete(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&gt;&nbsp;references)
                                                                            throws <a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></code></dd>
</dl>
</li>
</ul>
<a name="deleteReferencesForWorkflowRun-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteReferencesForWorkflowRun</h4>
<pre>@Transactional(propagation=SUPPORTS,
               readOnly=false)
void&nbsp;deleteReferencesForWorkflowRun(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;workflowRunId)
                                                                                                 throws <a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></code></dd>
</dl>
</li>
</ul>
<a name="getErrorDocumentService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getErrorDocumentService</h4>
<pre><a href="../../../../org/apache/taverna/reference/ErrorDocumentService.html" title="interface in org.apache.taverna.reference">ErrorDocumentService</a>&nbsp;getErrorDocumentService()</pre>
<div class="block">Returns the <a href="../../../../org/apache/taverna/reference/ErrorDocumentService.html" title="interface in org.apache.taverna.reference"><code>ErrorDocumentService</code></a> this ReferenceService uses, use
 this when you need functionality from that service explicitly.</div>
</li>
</ul>
<a name="getReferenceSetService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReferenceSetService</h4>
<pre><a href="../../../../org/apache/taverna/reference/ReferenceSetService.html" title="interface in org.apache.taverna.reference">ReferenceSetService</a>&nbsp;getReferenceSetService()</pre>
<div class="block">Returns the <a href="../../../../org/apache/taverna/reference/ReferenceSetService.html" title="interface in org.apache.taverna.reference"><code>ReferenceSetService</code></a> this ReferenceService uses, use
 this when you need functionality from that service explicitly.</div>
</li>
</ul>
<a name="getListService--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListService</h4>
<pre><a href="../../../../org/apache/taverna/reference/ListService.html" title="interface in org.apache.taverna.reference">ListService</a>&nbsp;getListService()</pre>
<div class="block">Returns the <a href="../../../../org/apache/taverna/reference/ListService.html" title="interface in org.apache.taverna.reference"><code>ListService</code></a> this ReferenceService uses, use this when
 you need functionality from that service explicitly.</div>
</li>
</ul>
<a name="traverseFrom-org.apache.taverna.reference.T2Reference-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>traverseFrom</h4>
<pre>@Transactional(propagation=SUPPORTS,
               readOnly=true)
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../org/apache/taverna/reference/ContextualizedT2Reference.html" title="interface in org.apache.taverna.reference">ContextualizedT2Reference</a>&gt;&nbsp;traverseFrom(<a href="../../../../org/apache/taverna/reference/T2Reference.html" title="interface in org.apache.taverna.reference">T2Reference</a>&nbsp;source,
                                                                                                                    int&nbsp;desiredDepth)</pre>
<div class="block">Initiates a traversal of the specified t2reference, traversing to
 whatever level of depth is required such that all identifiers returned
 within the iterator have the specified depth. The context (i.e. the index
 path from the originally specified reference to each reference within the
 iteration) is included through use of the ContextualizedT2Reference
 wrapper class</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - the T2Reference from which to traverse. In general this is the
            root of a collection structure.</dd>
<dd><code>desiredDepth</code> - the desired depth of all returned T2References, must be less
            than or equal to that of the source reference.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/taverna/reference/ReferenceServiceException.html" title="class in org.apache.taverna.reference">ReferenceServiceException</a></code> - if unable to create the iterator for some reason. Note that
             implementations are free to lazily perform the iteration so
             this method may succeed but the iterator produced can fail
             when used. If the iterator fails it will do so by throwing
             one of the underlying sub-service exceptions.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReferenceService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/taverna/reference/ReferencedDataNature.html" title="enum in org.apache.taverna.reference"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/taverna/reference/ReferenceServiceCacheProvider.html" title="interface in org.apache.taverna.reference"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/taverna/reference/ReferenceService.html" target="_top">Frames</a></li>
<li><a href="ReferenceService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015&#x2013;2016 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
